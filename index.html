<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="assets/css/grid.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link
        href="https://blogfonts.com/css/aWQ9MTUyNDM3JnN1Yj00MzcmYz1hJnR0Zj1BbWVsaWEtQmFzaWMtQmxhY2sub3RmJm49YW1lbGlhLWJhc2ljLWJsYWNr/Amelia-Basic-Black.otf"
        rel="stylesheet" type="text/css" />
    <link
        href="https://blogfonts.com/css/aWQ9MTUyNDM3JnN1Yj00MzcmYz1hJnR0Zj1BbWVsaWEtQmFzaWMtQmxhY2tJdGFsaWMub3RmJm49YW1lbGlhLWJhc2ljLWJsYWNraXRhbGljLTM/Amelia-Basic-BlackItalic.otf"
        rel="stylesheet" type="text/css" />
    <link
        href="https://blogfonts.com/css/aWQ9MTUyNDM3JnN1Yj00MzcmYz1hJnR0Zj1BbWVsaWEtQmFzaWMtQm9sZC5vdGYmbj1hbWVsaWEtYmFzaWMtYm9sZC01/Amelia-Basic-Bold.otf"
        rel="stylesheet" type="text/css" />
    <link
        href="https://blogfonts.com/css/aWQ9MTUyNDM3JnN1Yj00MzcmYz1hJnR0Zj1BbWVsaWEtQmFzaWMtQm9sZEl0YWxpYy5vdGYmbj1hbWVsaWEtYmFzaWMtYm9sZGl0YWxpYy03/Amelia-Basic-BoldItalic.otf"
        rel="stylesheet" type="text/css" />
</head>

<body>
    <form class="form">
        <fieldset>
            <label for="csvFileInput"> <strong>Arquivo CSV:</strong>
            </label>
            <input type="file" id="csvFileInput" onchange="handleFiles(this.files)" accept=".csv">
            </div>
        </fieldset>
    </form>
    <div id="output">

    </div>

    <div id="boletim">
        <header class="main container">
            <img src="assets/img/header-top-img.png" />
            <div class="text">
                <h1>BOLETIM INFORMATIVO <span>N° 303</span></h1>
                <div class="info">
                    <p>DATA: <span id="date"></span> - HORA: 17:00 - Marechal Floriano - ES</p>
                </div>
            </div>
        </header>
        <main class="mdc-layout-grid boletim container">
            <div class="mdc-layout-grid__inner">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box notificados">
                        <header>NOTIFICADOS</header>
                        <div class="number" id="notificados"></div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box descartados">
                        <header>DESCARTADOS</header>
                        <div class="number" id="descartados"></div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box suspeito-monitor">
                        <header>SUSPEITOS EM <br /> MONITORAMENTO</header>
                        <div class="number" id="monitoramento"></div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box suspeito-melhora">
                        <header>SUSPEITOS <br /> <span>*MELHORA CLÍNICA</span></header>
                        <div class="number" id="melhora"></div>
                    </div>
                </div>
            </div>
            <div class="mdc-layout-grid__inner">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box confirmados">
                        <header>CONFIRMADOS</header>
                        <div class="number" id="confirmados"></div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box hospitalizados">
                        <header>HOSPITALIZADOS</header>
                        <div class="number" id="hospitalizados"></div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box curados">
                        <header>CURADOS</header>
                        <div class="number" id="curados"></div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
                    <div class="box obitos">
                        <header>ÓBITOS</span></header>
                        <div class="number" id="obitos"></div>
                    </div>
                </div>
            </div>
            <div class="mdc-layout-grid__inner infor">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
                    * Suspeitos com melhora clínica: pacientes que apresentam síndrome gripal com melhora após 14 dias do
                    início dos sintomas, porém não se enquadram no critério para testagem laboratorial estabelecido pela
                    Nota Técnica n° 29 da Sesa.
                </div>
            </div>
            <div class="mdc-layout-grid__inner numeros">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
                    <div class="bairro um">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro dois">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro tres">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro quatro">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro cinco">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro seis">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro sete">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro oito">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro nove">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro dez">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro onze">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
                    <div class="bairro doze">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro treze">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro quatorze">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro quinze">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro dezesseis">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro dezessete">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro dezoito": <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro dezenove">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinte">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteeum">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteedois">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
                    <div class="bairro vinteetres">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteequatro">:<span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteecinco">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteeseis">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteesete">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteeoito">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro vinteenove">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro trinta">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro trintaeum">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                    <div class="bairro trintaedois">: <span class="confirmados"></span> / <span class="curados"></span> / <span class="obitos"></span></div>
                </div>
            </div>
            <div class="mdc-layout-grid__inner legenda">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-5 mapa">
                    <div class="confirmados">
                        <div class="sqr"></div> CONFIRMADOS
                    </div>
                    <div class="curados">
                        <div class="sqr"></div> CURADOS
                    </div>
                    <div class="obitos">
                        <div class="sqr"></div> ÓBITOS
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-7 info">
                    * Dados pessoais dos pacientes são invioláveis de acordo com a Constituição Federal, estando protegidos
                    por sigilo pela Lei 13.709/2018 (Lei Geral de Proteção de Dados Pessoais).
                </div>
            </div>
        </main>
        <footer class="container">
            <img src="assets/img/header-botton-img.png" />
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js" integrity="sha512-s/XK4vYVXTGeUSv4bRPOuxSDmDlTedEpMEcAQk0t/FMd9V6ft8iXdwSBxV0eD60c6w/tjotSlKu9J2AAW1ckTA==" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="text/javascript">
        function handleFiles(files) {
            // Check for the various File API support.
            if (window.FileReader) {
                // FileReader are supported.
                getAsText(files[0]);
            } else {
                alert('FileReader are not supported in this browser.');
            }
        }

        function getAsText(fileToRead) {
            var reader = new FileReader();
            // Handle errors load
            reader.onload = loadHandler;
            reader.onerror = errorHandler;
            // Read file into memory as UTF-8      
            reader.readAsText(fileToRead);
        }

        function loadHandler(event) {
            var csv = event.target.result;
            processData(csv);
        }

        function processData(csv) {
            var allTextLines = csv.split(/\r\n|\n/);
            var lines = [];
            while (allTextLines.length) {
                lines.push(allTextLines.shift().split(','));
            }
            console.log(lines);
            createBoletim(lines);
        }

        function errorHandler(evt) {
            if (evt.target.error.name == "NotReadableError") {
                alert("Cannot read file !");
            }
        }

        function createBoletim(lines) {

            var date = lines[1][2];

            function dataAtualFormatada(){
                var data = new Date(),
                    dia  = data.getDate().toString(),
                    diaF = (dia.length == 1) ? '0'+dia : dia,
                    mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro começa com zero.
                    mesF = (mes.length == 1) ? '0'+mes : mes,
                    anoF = data.getFullYear();
                return diaF+"/"+mesF+"/"+anoF;
            }

            $('#date').text(dataAtualFormatada());

            $('#notificados').text(lines[3][2].slice(1, -1));
            $('#descartados').text(lines[4][2].slice(1, -1));
            $('#monitoramento').text(lines[5][2].slice(1, -1));
            $('#melhora').text(lines[6][2].slice(1, -1));
            $('#confirmados').text(lines[7][2].slice(1, -1));
            $('#hospitalizados').text(lines[8][2].slice(1, -1));
            $('#curados').text(lines[9][2].slice(1, -1));
            $('#obitos').text(lines[10][2].slice(1, -1));

            $('.um').prepend(lines[14][1].slice(1, -1).toUpperCase());
            $('.um .confirmados').text(lines[14][2].slice(1, -1));
            $('.um .curados').text(lines[14][3].slice(1, -1));
            $('.um .obitos').text(lines[14][4].slice(1, -1));

            $('.dois').prepend(lines[15][1].slice(1, -1));
            $('.dois .confirmados').text(lines[15][2].slice(1, -1));
            $('.dois .curados').text(lines[15][3].slice(1, -1));
            $('.dois .obitos').text(lines[15][4].slice(1, -1));

            $('.tres').prepend(lines[16][1].slice(1, -1));
            $('.tres .confirmados').text(lines[16][2].slice(1, -1));
            $('.tres .curados').text(lines[16][3].slice(1, -1));
            $('.tres .obitos').text(lines[16][4].slice(1, -1));

            $('.quatro').prepend(lines[17][1].slice(1, -1));
            $('.quatro .confirmados').text(lines[17][2].slice(1, -1));
            $('.quatro .curados').text(lines[17][3].slice(1, -1));
            $('.quatro .obitos').text(lines[17][4].slice(1, -1));

            $('.cinco').prepend(lines[18][1].slice(1, -1));
            $('.cinco .confirmados').text(lines[18][2].slice(1, -1));
            $('.cinco .curados').text(lines[18][3].slice(1, -1));
            $('.cinco .obitos').text(lines[18][4].slice(1, -1));

            $('.sete').prepend(lines[19][1].slice(1, -1));
            $('.sete .confirmados').text(lines[19][2].slice(1, -1));
            $('.sete .curados').text(lines[19][3].slice(1, -1));
            $('.sete .obitos').text(lines[19][4].slice(1, -1));

            $('.seis').prepend(lines[20][1].slice(1, -1));
            $('.seis .confirmados').text(lines[20][2].slice(1, -1));
            $('.seis .curados').text(lines[20][3].slice(1, -1));
            $('.seis .obitos').text(lines[20][4].slice(1, -1));

            $('.oito').prepend(lines[21][1].slice(1, -1));
            $('.oito .confirmados').text(lines[21][2].slice(1, -1));
            $('.oito .curados').text(lines[21][3].slice(1, -1));
            $('.oito .obitos').text(lines[21][4].slice(1, -1));

            
            $('.nove').prepend(lines[22][1].slice(1, -1));
            $('.nove .confirmados').text(lines[22][2].slice(1, -1));
            $('.nove .curados').text(lines[22][3].slice(1, -1));
            $('.nove .obitos').text(lines[22][4].slice(1, -1));

            $('.dez').prepend(lines[23][1].slice(1, -1));
            $('.dez .confirmados').text(lines[23][2].slice(1, -1));
            $('.dez .curados').text(lines[23][3].slice(1, -1));
            $('.dez .obitos').text(lines[23][4].slice(1, -1));

            
            $('.onze').prepend(lines[24][1].slice(1, -1));
            $('.onze .confirmados').text(lines[24][2].slice(1, -1));
            $('.onze .curados').text(lines[24][3].slice(1, -1));
            $('.onze .obitos').text(lines[24][4].slice(1, -1));


            $('.doze').prepend(lines[25][1].slice(1, -1));
            $('.doze .confirmados').text(lines[25][2].slice(1, -1));
            $('.doze .curados').text(lines[25][3].slice(1, -1));
            $('.doze .obitos').text(lines[25][4].slice(1, -1));


            $('.treze').prepend(lines[26][1].slice(1, -1));
            $('.treze .confirmados').text(lines[26][2].slice(1, -1));
            $('.treze .curados').text(lines[26][3].slice(1, -1));
            $('.treze .obitos').text(lines[26][4].slice(1, -1));


            $('.quatorze').prepend(lines[27][1].slice(1, -1));
            $('.quatorze .confirmados').text(lines[27][2].slice(1, -1));
            $('.quatorze .curados').text(lines[27][3].slice(1, -1));
            $('.quatorze .obitos').text(lines[27][4].slice(1, -1));


            $('.quinze').prepend(lines[28][1].slice(1, -1));
            $('.quinze .confirmados').text(lines[28][2].slice(1, -1));
            $('.quinze .curados').text(lines[28][3].slice(1, -1));
            $('.quinze .obitos').text(lines[28][4].slice(1, -1));

            $('.dezesseis').prepend(lines[29][1].slice(1, -1));
            $('.dezesseis .confirmados').text(lines[29][2].slice(1, -1));
            $('.dezesseis .curados').text(lines[29][3].slice(1, -1));
            $('.dezesseis .obitos').text(lines[29][4].slice(1, -1));


            $('.dezessete').prepend(lines[30][1].slice(1, -1));
            $('.dezessete .confirmados').text(lines[30][2].slice(1, -1));
            $('.dezessete .curados').text(lines[30][3].slice(1, -1));
            $('.dezessete .obitos').text(lines[30][4].slice(1, -1));


            $('.dezenove').prepend(lines[31][1].slice(1, -1));
            $('.dezenove .confirmados').text(lines[31][2].slice(1, -1));
            $('.dezenove .curados').text(lines[31][3].slice(1, -1));
            $('.dezenove .obitos').text(lines[31][4].slice(1, -1));


            $('.dezoito').prepend(lines[32][1].slice(1, -1));
            $('.dezoito .confirmados').text(lines[32][2].slice(1, -1));
            $('.dezoito .curados').text(lines[32][3].slice(1, -1));
            $('.dezoito .obitos').text(lines[32][4].slice(1, -1));


            $('.vinteeum').prepend(lines[33][1].slice(1, -1));
            $('.vinteeum .confirmados').text(lines[33][2].slice(1, -1));
            $('.vinteeum .curados').text(lines[33][3].slice(1, -1));
            $('.vinteeum .obitos').text(lines[33][4].slice(1, -1));


            $('.vinte').prepend(lines[34][1].slice(1, -1));
            $('.vinte .confirmados').text(lines[34][2].slice(1, -1));
            $('.vinte .curados').text(lines[34][3].slice(1, -1));
            $('.vinte .obitos').text(lines[34][4].slice(1, -1));


            $('.vinteedois').prepend(lines[35][1].slice(1, -1));
            $('.vinteedois .confirmados').text(lines[35][2].slice(1, -1));
            $('.vinteedois .curados').text(lines[35][3].slice(1, -1));
            $('.vinteedois .obitos').text(lines[35][4].slice(1, -1));


            $('.vinteetres').prepend(lines[36][1].slice(1, -1));
            $('.vinteetres .confirmados').text(lines[36][2].slice(1, -1));
            $('.vinteetres .curados').text(lines[36][3].slice(1, -1));
            $('.vinteetres .obitos').text(lines[36][4].slice(1, -1));


            $('.vinteequatro').prepend(lines[37][1].slice(1, -1));
            $('.vinteequatro .confirmados').text(lines[37][2].slice(1, -1));
            $('.vinteequatro .curados').text(lines[37][3].slice(1, -1));
            $('.vinteequatro .obitos').text(lines[37][4].slice(1, -1));


            $('.vinteecinco').prepend(lines[38][1].slice(1, -1));
            $('.vinteecinco .confirmados').text(lines[38][2].slice(1, -1));
            $('.vinteecinco .curados').text(lines[38][3].slice(1, -1));
            $('.vinteecinco .obitos').text(lines[38][4].slice(1, -1));


            $('.vinteeseis').prepend(lines[39][1].slice(1, -1));
            $('.vinteeseis .confirmados').text(lines[39][2].slice(1, -1));
            $('.vinteeseis .curados').text(lines[39][3].slice(1, -1));
            $('.vinteeseis .obitos').text(lines[39][4].slice(1, -1));
            

            $('.vinteesete').prepend(lines[40][1].slice(1, -1));
            $('.vinteesete .confirmados').text(lines[40][2].slice(1, -1));
            $('.vinteesete .curados').text(lines[40][3].slice(1, -1));
            $('.vinteesete .obitos').text(lines[40][4].slice(1, -1));


            $('.vinteeoito').prepend(lines[41][1].slice(1, -1));
            $('.vinteeoito .confirmados').text(lines[41][2].slice(1, -1));
            $('.vinteeoito .curados').text(lines[41][3].slice(1, -1));
            $('.vinteeoito .obitos').text(lines[41][4].slice(1, -1));


            $('.trinta').prepend(lines[42][1].slice(1, -1));
            $('.trinta .confirmados').text(lines[42][2].slice(1, -1));
            $('.trinta .curados').text(lines[42][3].slice(1, -1));
            $('.trinta .obitos').text(lines[42][4].slice(1, -1));


            $('.vinteenove').prepend(lines[43][1].slice(1, -1));
            $('.vinteenove .confirmados').text(lines[43][2].slice(1, -1));
            $('.vinteenove .curados').text(lines[43][3].slice(1, -1));
            $('.vinteenove .obitos').text(lines[43][4].slice(1, -1));


            $('.trintaedois').prepend(lines[44][1].slice(1, -1));
            $('.trintaedois .confirmados').text(lines[44][2].slice(1, -1));
            $('.trintaedois .curados').text(lines[44][3].slice(1, -1));
            $('.trintaedois .obitos').text(lines[44][4].slice(1, -1));


            $('.trintaeum').prepend(lines[45][1].slice(1, -1));
            $('.trintaeum .confirmados').text(lines[45][2].slice(1, -1));
            $('.trintaeum .curados').text(lines[45][3].slice(1, -1));
            $('.trintaeum .obitos').text(lines[45][4].slice(1, -1));
        }
        

    </script>
</body>

</html>